swagger: "2.0"
info:
    title: Committee Management Service
    version: 0.0.1
host: localhost:80
consumes:
    - application/json
    - application/xml
    - application/gob
produces:
    - application/json
    - application/xml
    - application/gob
paths:
    /committees:
        post:
            tags:
                - committee-service
            summary: create-committee committee-service
            description: Create Committee
            operationId: committee-service#create-committee
            parameters:
                - name: v
                  in: query
                  description: Version of the API
                  required: false
                  type: string
                  enum:
                    - "1"
                - name: Authorization
                  in: header
                  description: JWT token issued by Heimdall
                  required: false
                  type: string
                - name: Create-CommitteeRequestBody
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/CommitteeServiceCreateCommitteeRequestBody'
                    required:
                        - name
                        - category
            responses:
                "201":
                    description: Created response.
                    schema:
                        $ref: '#/definitions/CommitteeFullWithReadonlyAttributes'
                "400":
                    description: Bad Request response.
                    schema:
                        $ref: '#/definitions/BadRequestError'
                        required:
                            - message
                "404":
                    description: Not Found response.
                    schema:
                        $ref: '#/definitions/NotFoundError'
                        required:
                            - message
                "409":
                    description: Conflict response.
                    schema:
                        $ref: '#/definitions/ConflictError'
                        required:
                            - message
                "500":
                    description: Internal Server Error response.
                    schema:
                        $ref: '#/definitions/InternalServerError'
                        required:
                            - message
                "503":
                    description: Service Unavailable response.
                    schema:
                        $ref: '#/definitions/ServiceUnavailableError'
                        required:
                            - message
            schemes:
                - http
            security:
                - jwt_header_Authorization: []
    /committees/{uid}:
        get:
            tags:
                - committee-service
            summary: get-committee-base committee-service
            description: Get Committee
            operationId: committee-service#get-committee-base
            parameters:
                - name: v
                  in: query
                  description: Version of the API
                  required: false
                  type: string
                  enum:
                    - "1"
                - name: uid
                  in: path
                  description: Committee UID -- v2 uid, not related to v1 id directly
                  required: true
                  type: string
                  format: uuid
                - name: Authorization
                  in: header
                  description: JWT token issued by Heimdall
                  required: false
                  type: string
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/CommitteeServiceGetCommitteeBaseResponseBody'
                    headers:
                        ETag:
                            description: ETag header value
                            type: string
                "404":
                    description: Not Found response.
                    schema:
                        $ref: '#/definitions/NotFoundError'
                        required:
                            - message
                "500":
                    description: Internal Server Error response.
                    schema:
                        $ref: '#/definitions/InternalServerError'
                        required:
                            - message
                "503":
                    description: Service Unavailable response.
                    schema:
                        $ref: '#/definitions/ServiceUnavailableError'
                        required:
                            - message
            schemes:
                - http
            security:
                - jwt_header_Authorization: []
        put:
            tags:
                - committee-service
            summary: update-committee-base committee-service
            description: Update Committee
            operationId: committee-service#update-committee-base
            parameters:
                - name: v
                  in: query
                  description: Version of the API
                  required: false
                  type: string
                  enum:
                    - "1"
                - name: uid
                  in: path
                  description: Committee UID -- v2 uid, not related to v1 id directly
                  required: true
                  type: string
                  format: uuid
                - name: Authorization
                  in: header
                  description: JWT token issued by Heimdall
                  required: false
                  type: string
                - name: ETag
                  in: header
                  description: ETag header value
                  required: false
                  type: string
                - name: Update-Committee-BaseRequestBody
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/CommitteeServiceUpdateCommitteeBaseRequestBody'
                    required:
                        - name
                        - category
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/CommitteeFullWithReadonlyAttributes'
                "400":
                    description: Bad Request response.
                    schema:
                        $ref: '#/definitions/BadRequestError'
                        required:
                            - message
                "404":
                    description: Not Found response.
                    schema:
                        $ref: '#/definitions/NotFoundError'
                        required:
                            - message
                "500":
                    description: Internal Server Error response.
                    schema:
                        $ref: '#/definitions/InternalServerError'
                        required:
                            - message
                "503":
                    description: Service Unavailable response.
                    schema:
                        $ref: '#/definitions/ServiceUnavailableError'
                        required:
                            - message
            schemes:
                - http
            security:
                - jwt_header_Authorization: []
        delete:
            tags:
                - committee-service
            summary: delete-committee committee-service
            description: Delete Committee
            operationId: committee-service#delete-committee
            parameters:
                - name: v
                  in: query
                  description: Version of the API
                  required: false
                  type: string
                  enum:
                    - "1"
                - name: uid
                  in: path
                  description: Committee UID -- v2 uid, not related to v1 id directly
                  required: true
                  type: string
                  format: uuid
                - name: Authorization
                  in: header
                  description: JWT token issued by Heimdall
                  required: false
                  type: string
                - name: ETag
                  in: header
                  description: ETag header value
                  required: false
                  type: string
            responses:
                "204":
                    description: No Content response.
                "400":
                    description: Bad Request response.
                    schema:
                        $ref: '#/definitions/BadRequestError'
                        required:
                            - message
                "404":
                    description: Not Found response.
                    schema:
                        $ref: '#/definitions/NotFoundError'
                        required:
                            - message
                "500":
                    description: Internal Server Error response.
                    schema:
                        $ref: '#/definitions/InternalServerError'
                        required:
                            - message
                "503":
                    description: Service Unavailable response.
                    schema:
                        $ref: '#/definitions/ServiceUnavailableError'
                        required:
                            - message
            schemes:
                - http
            security:
                - jwt_header_Authorization: []
    /committees/{uid}/settings:
        get:
            tags:
                - committee-service
            summary: get-committee-settings committee-service
            description: Get Committee Settings
            operationId: committee-service#get-committee-settings
            parameters:
                - name: v
                  in: query
                  description: Version of the API
                  required: false
                  type: string
                  enum:
                    - "1"
                - name: uid
                  in: path
                  description: Committee UID -- v2 uid, not related to v1 id directly
                  required: true
                  type: string
                  format: uuid
                - name: Authorization
                  in: header
                  description: JWT token issued by Heimdall
                  required: false
                  type: string
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/CommitteeServiceGetCommitteeSettingsResponseBody'
                    headers:
                        ETag:
                            description: ETag header value
                            type: string
                "404":
                    description: Not Found response.
                    schema:
                        $ref: '#/definitions/NotFoundError'
                        required:
                            - message
                "500":
                    description: Internal Server Error response.
                    schema:
                        $ref: '#/definitions/InternalServerError'
                        required:
                            - message
                "503":
                    description: Service Unavailable response.
                    schema:
                        $ref: '#/definitions/ServiceUnavailableError'
                        required:
                            - message
            schemes:
                - http
            security:
                - jwt_header_Authorization: []
        put:
            tags:
                - committee-service
            summary: update-committee-settings committee-service
            description: Update Committee Settings
            operationId: committee-service#update-committee-settings
            parameters:
                - name: v
                  in: query
                  description: Version of the API
                  required: false
                  type: string
                  enum:
                    - "1"
                - name: uid
                  in: path
                  description: Committee UID -- v2 uid, not related to v1 id directly
                  required: true
                  type: string
                  format: uuid
                - name: Authorization
                  in: header
                  description: JWT token issued by Heimdall
                  required: false
                  type: string
                - name: ETag
                  in: header
                  description: ETag header value
                  required: false
                  type: string
                - name: Update-Committee-SettingsRequestBody
                  in: body
                  required: true
                  schema:
                    $ref: '#/definitions/CommitteeServiceUpdateCommitteeSettingsRequestBody'
                    required:
                        - business_email_required
            responses:
                "200":
                    description: OK response.
                    schema:
                        $ref: '#/definitions/CommitteeSettingsWithReadonlyAttributes'
                "400":
                    description: Bad Request response.
                    schema:
                        $ref: '#/definitions/BadRequestError'
                        required:
                            - message
                "404":
                    description: Not Found response.
                    schema:
                        $ref: '#/definitions/NotFoundError'
                        required:
                            - message
                "500":
                    description: Internal Server Error response.
                    schema:
                        $ref: '#/definitions/InternalServerError'
                        required:
                            - message
                "503":
                    description: Service Unavailable response.
                    schema:
                        $ref: '#/definitions/ServiceUnavailableError'
                        required:
                            - message
            schemes:
                - http
            security:
                - jwt_header_Authorization: []
    /livez:
        get:
            tags:
                - committee-service
            summary: livez committee-service
            description: Check if the service is alive.
            operationId: committee-service#livez
            produces:
                - text/plain
            responses:
                "200":
                    description: OK response.
                    schema:
                        type: string
                        format: byte
            schemes:
                - http
    /openapi.json:
        get:
            tags:
                - committee-service
            summary: Download gen/http/openapi3.json
            operationId: committee-service#/openapi.json
            responses:
                "200":
                    description: File downloaded
                    schema:
                        type: file
            schemes:
                - http
    /readyz:
        get:
            tags:
                - committee-service
            summary: readyz committee-service
            description: Check if the service is able to take inbound requests.
            operationId: committee-service#readyz
            produces:
                - text/plain
            responses:
                "200":
                    description: OK response.
                    schema:
                        type: string
                        format: byte
                "503":
                    description: Service Unavailable response.
                    schema:
                        $ref: '#/definitions/ServiceUnavailableError'
                        required:
                            - message
            schemes:
                - http
definitions:
    BadRequestError:
        title: BadRequestError
        type: object
        properties:
            message:
                type: string
                description: Error message
                example: The request was invalid.
        description: Bad request
        example:
            message: The request was invalid.
        required:
            - message
    CommitteeFullWithReadonlyAttributes:
        title: CommitteeFullWithReadonlyAttributes
        type: object
        properties:
            calendar:
                type: object
                properties:
                    public:
                        type: boolean
                        description: Whether the committee calendar is publicly visible
                        default: false
                        example: true
                description: Settings related to the committee calendar
                example:
                    public: true
            category:
                type: string
                description: The category of the committee
                example: Technical Steering Committee
                enum:
                    - Ambassador
                    - Board
                    - Code of Conduct
                    - Committers
                    - Expert Group
                    - Finance Committee
                    - Government Advisory Council
                    - Legal Committee
                    - Maintainers
                    - Marketing Committee/Sub Committee
                    - Marketing Mailing List
                    - Marketing Oversight Committee/Marketing Advisory Committee
                    - Other
                    - Product Security
                    - Special Interest Group
                    - Technical Mailing List
                    - Technical Oversight Committee/Technical Advisory Committee
                    - Technical Steering Committee
                    - Working Group
            description:
                type: string
                description: The description of the committee
                example: Main technical oversight committee for the project
                maxLength: 2000
            display_name:
                type: string
                description: The display name of the committee
                example: TSC Committee Calendar
                maxLength: 100
            enable_voting:
                type: boolean
                description: Whether voting is enabled for this committee
                default: false
                example: true
            name:
                type: string
                description: The name of the committee
                example: Technical Steering Committee
                maxLength: 100
            parent_uid:
                type: string
                description: The UID of the parent committee -- v2 uid, not related to v1 id directly, should be empty if there is none
                example: 90b147f2-7cdd-157a-a2f4-9d4a567123fc
                format: uuid
            project_uid:
                type: string
                description: Project UID this committee belongs to -- v2 uid, not related to v1 id directly
                example: 7cad5a8d-19d0-41a4-81a6-043453daf9ee
                format: uuid
            public:
                type: boolean
                description: General committee visibility/access permissions
                default: false
                example: true
            requires_review:
                type: boolean
                description: Whether this committee is expected to be reviewed
                default: false
                example: true
            sso_group_enabled:
                type: boolean
                description: Whether SSO group integration is enabled
                default: false
                example: true
            sso_group_name:
                type: string
                description: The name of the SSO group - read-only
                example: lfx-committee-group
            total_members:
                type: integer
                description: The total number of members in this committee
                example: 15
                format: int64
                minimum: 0
            total_voting_repos:
                type: integer
                description: The total number of repositories with voting permissions for this committee
                example: 3
                format: int64
                minimum: 0
            uid:
                type: string
                description: Committee UID -- v2 uid, not related to v1 id directly
                example: 7cad5a8d-19d0-41a4-81a6-043453daf9ee
                format: uuid
            website:
                type: string
                description: The website URL of the committee
                example: https://committee.example.org
                format: uri
                pattern: ^(https?://)?[^\s/$.?#].[^\s]*$
        example:
            calendar:
                public: true
            category: Technical Steering Committee
            description: Main technical oversight committee for the project
            display_name: TSC Committee Calendar
            enable_voting: true
            name: Technical Steering Committee
            parent_uid: 90b147f2-7cdd-157a-a2f4-9d4a567123fc
            project_uid: 7cad5a8d-19d0-41a4-81a6-043453daf9ee
            public: true
            requires_review: true
            sso_group_enabled: true
            sso_group_name: lfx-committee-group
            total_members: 15
            total_voting_repos: 3
            uid: 7cad5a8d-19d0-41a4-81a6-043453daf9ee
            website: https://committee.example.org
    CommitteeServiceCreateCommitteeRequestBody:
        title: CommitteeServiceCreateCommitteeRequestBody
        type: object
        properties:
            auditors:
                type: array
                items:
                    type: string
                    example: Sit nisi culpa alias odit inventore.
                description: Auditor user IDs who can audit this committee
                example:
                    - auditor_user_id1
                    - auditor_user_id2
            business_email_required:
                type: boolean
                description: Whether business email is required for committee members
                default: false
                example: false
            calendar:
                type: object
                properties:
                    public:
                        type: boolean
                        description: Whether the committee calendar is publicly visible
                        default: false
                        example: true
                description: Settings related to the committee calendar
                example:
                    public: true
            category:
                type: string
                description: The category of the committee
                example: Technical Steering Committee
                enum:
                    - Ambassador
                    - Board
                    - Code of Conduct
                    - Committers
                    - Expert Group
                    - Finance Committee
                    - Government Advisory Council
                    - Legal Committee
                    - Maintainers
                    - Marketing Committee/Sub Committee
                    - Marketing Mailing List
                    - Marketing Oversight Committee/Marketing Advisory Committee
                    - Other
                    - Product Security
                    - Special Interest Group
                    - Technical Mailing List
                    - Technical Oversight Committee/Technical Advisory Committee
                    - Technical Steering Committee
                    - Working Group
            description:
                type: string
                description: The description of the committee
                example: Main technical oversight committee for the project
                maxLength: 2000
            display_name:
                type: string
                description: The display name of the committee
                example: TSC Committee Calendar
                maxLength: 100
            enable_voting:
                type: boolean
                description: Whether voting is enabled for this committee
                default: false
                example: true
            last_reviewed_at:
                type: string
                description: The timestamp when the committee was last reviewed
                example: "2023-05-10T09:15:00Z"
                format: date-time
            last_reviewed_by:
                type: string
                description: The user ID who last reviewed this committee
                example: user_id_12345
            name:
                type: string
                description: The name of the committee
                example: Technical Steering Committee
                maxLength: 100
            parent_uid:
                type: string
                description: The UID of the parent committee -- v2 uid, not related to v1 id directly, should be empty if there is none
                example: 90b147f2-7cdd-157a-a2f4-9d4a567123fc
                format: uuid
            project_uid:
                type: string
                description: Project UID this committee belongs to -- v2 uid, not related to v1 id directly
                example: 7cad5a8d-19d0-41a4-81a6-043453daf9ee
                format: uuid
            public:
                type: boolean
                description: General committee visibility/access permissions
                default: false
                example: true
            requires_review:
                type: boolean
                description: Whether this committee is expected to be reviewed
                default: false
                example: true
            sso_group_enabled:
                type: boolean
                description: Whether SSO group integration is enabled
                default: false
                example: true
            website:
                type: string
                description: The website URL of the committee
                example: https://committee.example.org
                format: uri
                pattern: ^(https?://)?[^\s/$.?#].[^\s]*$
            writers:
                type: array
                items:
                    type: string
                    example: Non aliquam est voluptas.
                description: Manager user IDs who can edit/modify this committee
                example:
                    - manager_user_id1
                    - manager_user_id2
        example:
            auditors:
                - auditor_user_id1
                - auditor_user_id2
            business_email_required: false
            calendar:
                public: true
            category: Technical Steering Committee
            description: Main technical oversight committee for the project
            display_name: TSC Committee Calendar
            enable_voting: true
            last_reviewed_at: "2023-05-10T09:15:00Z"
            last_reviewed_by: user_id_12345
            name: Technical Steering Committee
            parent_uid: 90b147f2-7cdd-157a-a2f4-9d4a567123fc
            project_uid: 7cad5a8d-19d0-41a4-81a6-043453daf9ee
            public: true
            requires_review: true
            sso_group_enabled: true
            website: https://committee.example.org
            writers:
                - manager_user_id1
                - manager_user_id2
        required:
            - name
            - category
    CommitteeServiceGetCommitteeBaseResponseBody:
        title: CommitteeServiceGetCommitteeBaseResponseBody
        $ref: '#/definitions/CommitteeFullWithReadonlyAttributes'
    CommitteeServiceGetCommitteeSettingsResponseBody:
        title: CommitteeServiceGetCommitteeSettingsResponseBody
        $ref: '#/definitions/CommitteeSettingsWithReadonlyAttributes'
    CommitteeServiceUpdateCommitteeBaseRequestBody:
        title: CommitteeServiceUpdateCommitteeBaseRequestBody
        type: object
        properties:
            calendar:
                type: object
                properties:
                    public:
                        type: boolean
                        description: Whether the committee calendar is publicly visible
                        default: false
                        example: true
                description: Settings related to the committee calendar
                example:
                    public: true
            category:
                type: string
                description: The category of the committee
                example: Technical Steering Committee
                enum:
                    - Ambassador
                    - Board
                    - Code of Conduct
                    - Committers
                    - Expert Group
                    - Finance Committee
                    - Government Advisory Council
                    - Legal Committee
                    - Maintainers
                    - Marketing Committee/Sub Committee
                    - Marketing Mailing List
                    - Marketing Oversight Committee/Marketing Advisory Committee
                    - Other
                    - Product Security
                    - Special Interest Group
                    - Technical Mailing List
                    - Technical Oversight Committee/Technical Advisory Committee
                    - Technical Steering Committee
                    - Working Group
            description:
                type: string
                description: The description of the committee
                example: Main technical oversight committee for the project
                maxLength: 2000
            display_name:
                type: string
                description: The display name of the committee
                example: TSC Committee Calendar
                maxLength: 100
            enable_voting:
                type: boolean
                description: Whether voting is enabled for this committee
                default: false
                example: true
            name:
                type: string
                description: The name of the committee
                example: Technical Steering Committee
                maxLength: 100
            parent_uid:
                type: string
                description: The UID of the parent committee -- v2 uid, not related to v1 id directly, should be empty if there is none
                example: 90b147f2-7cdd-157a-a2f4-9d4a567123fc
                format: uuid
            project_uid:
                type: string
                description: Project UID this committee belongs to -- v2 uid, not related to v1 id directly
                example: 7cad5a8d-19d0-41a4-81a6-043453daf9ee
                format: uuid
            public:
                type: boolean
                description: General committee visibility/access permissions
                default: false
                example: true
            requires_review:
                type: boolean
                description: Whether this committee is expected to be reviewed
                default: false
                example: true
            sso_group_enabled:
                type: boolean
                description: Whether SSO group integration is enabled
                default: false
                example: true
            website:
                type: string
                description: The website URL of the committee
                example: https://committee.example.org
                format: uri
                pattern: ^(https?://)?[^\s/$.?#].[^\s]*$
        example:
            calendar:
                public: true
            category: Technical Steering Committee
            description: Main technical oversight committee for the project
            display_name: TSC Committee Calendar
            enable_voting: true
            name: Technical Steering Committee
            parent_uid: 90b147f2-7cdd-157a-a2f4-9d4a567123fc
            project_uid: 7cad5a8d-19d0-41a4-81a6-043453daf9ee
            public: true
            requires_review: true
            sso_group_enabled: true
            website: https://committee.example.org
        required:
            - name
            - category
    CommitteeServiceUpdateCommitteeSettingsRequestBody:
        title: CommitteeServiceUpdateCommitteeSettingsRequestBody
        type: object
        properties:
            auditors:
                type: array
                items:
                    type: string
                    example: Dolorum aspernatur voluptatem harum veritatis quaerat dolorem.
                description: Auditor user IDs who can audit this committee
                example:
                    - auditor_user_id1
                    - auditor_user_id2
            business_email_required:
                type: boolean
                description: Whether business email is required for committee members
                default: false
                example: false
            last_reviewed_at:
                type: string
                description: The timestamp when the committee was last reviewed
                example: "2023-05-10T09:15:00Z"
                format: date-time
            last_reviewed_by:
                type: string
                description: The user ID who last reviewed this committee
                example: user_id_12345
            writers:
                type: array
                items:
                    type: string
                    example: Vitae sit voluptatem enim esse unde voluptatibus.
                description: Manager user IDs who can edit/modify this committee
                example:
                    - manager_user_id1
                    - manager_user_id2
        example:
            auditors:
                - auditor_user_id1
                - auditor_user_id2
            business_email_required: false
            last_reviewed_at: "2023-05-10T09:15:00Z"
            last_reviewed_by: user_id_12345
            writers:
                - manager_user_id1
                - manager_user_id2
        required:
            - business_email_required
    CommitteeSettingsWithReadonlyAttributes:
        title: CommitteeSettingsWithReadonlyAttributes
        type: object
        properties:
            business_email_required:
                type: boolean
                description: Whether business email is required for committee members
                default: false
                example: false
            created_at:
                type: string
                description: The timestamp when the committee was created (read-only)
                example: "2023-01-15T10:30:00Z"
                format: date-time
            last_reviewed_at:
                type: string
                description: The timestamp when the committee was last reviewed
                example: "2023-05-10T09:15:00Z"
                format: date-time
            last_reviewed_by:
                type: string
                description: The user ID who last reviewed this committee
                example: user_id_12345
            uid:
                type: string
                description: Committee UID -- v2 uid, not related to v1 id directly
                example: 7cad5a8d-19d0-41a4-81a6-043453daf9ee
                format: uuid
            updated_at:
                type: string
                description: The timestamp when the committee was last updated (read-only)
                example: "2023-06-20T14:45:30Z"
                format: date-time
        description: A representation of LF Committee settings with readonly attributes.
        example:
            business_email_required: false
            created_at: "2023-01-15T10:30:00Z"
            last_reviewed_at: "2023-05-10T09:15:00Z"
            last_reviewed_by: user_id_12345
            uid: 7cad5a8d-19d0-41a4-81a6-043453daf9ee
            updated_at: "2023-06-20T14:45:30Z"
    ConflictError:
        title: ConflictError
        type: object
        properties:
            message:
                type: string
                description: Error message
                example: The resource already exists.
        description: Conflict
        example:
            message: The resource already exists.
        required:
            - message
    InternalServerError:
        title: InternalServerError
        type: object
        properties:
            message:
                type: string
                description: Error message
                example: An internal server error occurred.
        description: Internal server error
        example:
            message: An internal server error occurred.
        required:
            - message
    NotFoundError:
        title: NotFoundError
        type: object
        properties:
            message:
                type: string
                description: Error message
                example: The resource was not found.
        description: Resource not found
        example:
            message: The resource was not found.
        required:
            - message
    ServiceUnavailableError:
        title: ServiceUnavailableError
        type: object
        properties:
            message:
                type: string
                description: Error message
                example: The service is unavailable.
        description: Service unavailable
        example:
            message: The service is unavailable.
        required:
            - message
securityDefinitions:
    jwt_header_Authorization:
        type: apiKey
        description: Heimdall authorization
        name: Authorization
        in: header
